var svg_data='<?xml version="1.0" encoding="utf-8"?> <!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"viewBox="0 0 800 600" style="enable-background:new 0 0 800 600;" xml:space="preserve"> <path d="M556,320.4c-9.4-22.3-22.7-41.3-39.9-56.9c-17.2-15.6-37.4-27.3-60.5-35.1c-23.1-7.8-48.1-11.7-75-11.7 c-2.7,0-5.8,0.1-9.3,0.4c-3.5,0.3-7.1,0.4-10.9,0.4c-4.3,0.5-8.6,0.8-12.9,0.8V109.4h201.7V11h-10v88.4H337.5v128.9h10 c4.5,0,9.1-0.3,13.5-0.8c3.9,0,7.6-0.2,11.1-0.4c3.2-0.2,6.1-0.4,8.5-0.4c25.7,0,49.8,3.8,71.8,11.2c21.7,7.3,40.9,18.4,57,33 c16,14.5,28.6,32.5,37.4,53.4c8.8,21,13.3,44.5,13.3,69.9c0,30-5.6,56.6-16.7,79.1c-11.1,22.5-26.5,41.6-45.6,56.7 c-19.4,15.3-42.2,27.1-67.8,35c-25.8,8-53.9,12.1-83.4,12.1c-11.2,0-23.4-1.2-36.2-3.5c-13-2.3-26.1-5.3-38.7-8.7 c-12.6-3.4-24.3-7.2-34.9-11.4c-6.9-2.7-13.2-5.3-18.7-7.8l26.2-65c8.9,4.2,20.1,8.6,34,13.3c20,6.8,41.3,10.2,63.3,10.2 c18.6,0,36.1-2.3,52-6.8c16.1-4.6,30.3-11.4,42.3-20.1c12.2-8.9,21.9-20.1,28.8-33.3c6.9-13.2,10.4-28.4,10.4-45 c0-32.8-13.2-59-39.2-77.9c-25-18.1-62.4-27.3-111.2-27.3c-5.9,0-12.8,0.1-20.9,0.4c-7.9,0.3-15.5,0.7-22.6,1.2 c-4.6,0.3-9.4,0.5-14.3,0.7V11h-10v295.3c8.6,0,16.9-0.3,25-0.8c7-0.5,14.4-0.9,22.2-1.2c7.8-0.3,14.7-0.4,20.6-0.4 c46.8,0,81.9,8.5,105.3,25.4c23.4,16.9,35.1,40.2,35.1,69.8c0,15.1-3.1,28.5-9.3,40.3c-6.2,11.8-14.8,21.8-25.8,29.9 c-11,8.1-24.1,14.3-39.1,18.6c-15.1,4.3-31.5,6.5-49.2,6.5c-21,0-41-3.2-60.1-9.7c-19.1-6.5-33.2-12.4-42.4-17.8l-33.9,83.9 c7.5,3.8,16.8,7.8,27.8,12.1c11,4.3,23,8.2,35.9,11.7s26.1,6.5,39.5,8.9c13.4,2.4,26.1,3.6,37.9,3.6c30.7,0,59.4-4.2,86.3-12.5 c26.9-8.3,50.6-20.6,71-36.7c20.4-16.1,36.6-36.2,48.4-60.1c11.8-23.9,17.8-51.8,17.8-83.5C570.2,367.4,565.4,342.8,556,320.4z"/> </svg>',DC=DC||{};DC["do"]=function(){var e=Matter.Engine,r=Matter.Render,t=Matter.Runner,n=Matter.Body,a=Matter.Composite,c=Matter.Composites,o=Matter.Common,i=Matter.Constraint,d=Matter.MouseConstraint,l=Matter.Mouse,s=Matter.World,m=Matter.Events,u=Matter.Bodies;Matter.Vertices,Matter.Svg,Matter.Query,Matter.Sleeping;DC["do"].createStacks=function(){return c.stack(-60,0,24,6,0,0,function(e,r){return o.random()<.05?u.rectangle(e+15*o.random(),r+15*o.random(),26,16,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:sourceLinkRoot+"img/double11_1.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.05&&o.random()<.1?u.rectangle(e+15*o.random(),r+30*o.random(),24,24,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:"//act.cmcmcdn.com/upload/201710/f8e6bdd1572a5e8a2e2f73d8c52b1bf6.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.1&&o.random()<.15?u.rectangle(e+15*o.random(),r+15*o.random(),22,30,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:sourceLinkRoot+"img/red.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.15&&o.random()<.2?u.rectangle(e+15*o.random(),r+15*o.random(),24,24,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:sourceLinkRoot+"img/gift.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.2&&o.random()<.25?u.circle(e+15*o.random(),r+5*o.random(),16,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:sourceLinkRoot+"img/coin.png"}},friction:.7,timeScale:S}):o.random()>.25&&o.random()<.3?u.circle(e+15*o.random(),r+10*o.random(),12,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:sourceLinkRoot+"img/duck.png"}},friction:.7,timeScale:S}):o.random()>.3&&o.random()<.35?u.circle(e+15*o.random(),r+5*o.random(),16,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:"//act.cmcmcdn.com/upload/201710/bd2bd1fb94a20ca2f9eea1088925050a.png"}},friction:.7,timeScale:S}):o.random()>.35&&o.random()<.4?u.rectangle(e+15*o.random(),r+15*o.random(),28,38,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:"//act.cmcmcdn.com/upload/201710/24af186e46de0d872942ef2709f83b71.gif"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.4&&o.random()<.45?u.rectangle(e+15*o.random(),r+45*o.random(),38,18,{render:{sprite:{xScale:.5-p,yScale:.5-p,texture:"//act.cmcmcdn.com/upload/201710/2a126249ff498557a38cc920a64481c7.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.45&&o.random()<.5?u.rectangle(e+15*o.random(),r+40*o.random(),28,23,{render:{sprite:{xScale:.7-p,yScale:.7-p,texture:sourceLinkRoot+"img/10.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.5&&o.random()<.55?u.rectangle(e+15*o.random(),r+32*o.random(),38,23,{render:{sprite:{xScale:.7-p,yScale:.7-p,texture:sourceLinkRoot+"img/500.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.55&&o.random()<.6?u.rectangle(e+15*o.random(),r+44*o.random(),38,23,{render:{sprite:{xScale:.7-p,yScale:.7-p,texture:sourceLinkRoot+"/img/100.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.6&&o.random()<.65?u.rectangle(e+15*o.random(),r+21*o.random(),63,23,{render:{sprite:{xScale:.7-p,yScale:.7-p,texture:sourceLinkRoot+"/img/10000.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.65&&o.random()<.7?u.rectangle(e+15*o.random(),r+29*o.random(),28,23,{render:{sprite:{xScale:.7-p,yScale:.7-p,texture:sourceLinkRoot+"/img/50.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.7&&o.random()<.75?u.rectangle(e+15*o.random(),r+15*o.random(),28,28,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:"//act.cmcmcdn.com/upload/201710/25cd325bae7818e30a4d4676ec0880bf.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.75&&o.random()<.8?u.rectangle(e+15*o.random(),r+15*o.random(),28,28,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:"//act.cmcmcdn.com/upload/201710/c1fede413fbd7b3de23a771472e67d29.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.8&&o.random()<.85?u.rectangle(e+15*o.random(),r+15*o.random(),28,28,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:"//act.cmcmcdn.com/upload/201710/9de67782c268517089e6d031af85405c.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.85&&o.random()<.9?u.rectangle(e+15*o.random(),r+15*o.random(),28,28,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:"//act.cmcmcdn.com/upload/201710/45991158829180f3a86597a0ef781c3a.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):o.random()>.95&&o.random()<1?u.rectangle(e+15*o.random(),r+15*o.random(),28,28,{render:{sprite:{xScale:.8-p,yScale:.8-p,texture:"//act.cmcmcdn.com/upload/201710/328c7178f239ce35264850419510b3be.png"}},chamfer:{radius:5},friction:.7,timeScale:S}):u.circle(e+15*o.random(),r+15*o.random(),16,{render:{sprite:{xScale:.7-p,yScale:.7-p,texture:sourceLinkRoot+"img/liebao.png"}},friction:.7,timeScale:S})})};var f=!1,g=!1,p=.1,S=.8,x=e.create({}),b=x.world,y=1e3,h=r.create({element:document.body,engine:x,options:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,background:"transparent",showAngleIndicator:!1,wireframes:!1}});r.run(h);var v=t.create();t.run(v,x);var k={isStatic:!0,render:{fillStyle:"#c6c6c6"}};b.bodies=[],$("#d-c").css("min-width",document.documentElement.clientWidth);var A=document.documentElement.clientWidth,M=document.documentElement.clientHeight,R=u.rectangle(0,.62*M,3*A,.01,k);s.add(b,[R]);var C,B=!1,w=function(){return B?void $("#switch1").prop("checked",!1):(g=!1,B=!0,s.remove(b,K),V.length=280,void setTimeout(function(){I=!0,setTimeout(function(){V.length=10,setTimeout(function(){$(".simpleAlert").length>0||(C=simpleAlert({content:"游戏结束啦！",buttons:{"再玩一次":function(){playAgain=!0,$("#switch1").prop("checked",!0),C.close()},"退出":function(){C.close(),s.clear(b),$("#d-c").remove()}}}))},3*y)},3*y)},y))};$(".start-btn").click(w);var E=DC["do"].createStacks();s.add(b,E);var L=function(e){for(var r=a.allBodies(e.world),t=0;t<r.length;t++){var c=r[t];if(!c.isStatic&&c.position.y>=100){var i=.05*c.mass;n.applyForce(c,c.position,{x:(i+o.random()*i)*o.choose([1,-1]),y:-i+o.random()*-i})}}};setTimeout(function(){L(x)},1.5*y);var T=400,_=n.nextGroup(!0),F=-1,D=c.stack(T,0,2,1,0,10,function(e,r){return u.rectangle(e,r,30,15,{collisionFilter:{group:_},chamfer:.5,render:{sprite:{xScale:.6,yScale:.6,texture:sourceLinkRoot+"img/component.png"}}})}),G=u.rectangle(400,100,40,25,{render:{strokeStyle:"#3c3f41",sprite:{xScale:.8,yScale:.8,texture:sourceLinkRoot+"img/arm.png"}}});D.bodies.push(G),c.chain(D,.5,0,-.5,0,{stiffness:1,length:0,render:{visible:!1}}),a.add(D,i.create({label:"spring",bodyB:D.bodies[0],pointB:{x:-20,y:0},pointA:{x:D.bodies[0].position.x,y:D.bodies[0].position.y},stiffness:.01,damping:1,length:10,render:{visible:!0,lineWidth:1.5,strokeStyle:"#29a3f1"}}));var P,H=[],V=D.constraints[2];o.choose(["#556270","#4ECDC4","#C7F464","#FF6B6B","#C44D58"]);P=DC["do"].ragdoll(400,100,1.1,{},H);var W=i.create({bodyA:D.bodies[D.bodies.length-1],bodyB:P.bodies[0],pointA:{x:28,y:0},pointB:{x:0,y:-7},length:0,render:{visible:!1}});setTimeout(function(){s.add(b,[D,P,W]),$(".start-btn").css("display","block"),f=!0,setTimeout(function(){g=!0},y)},5*y);var O,I=!1,U=.5,z=-.5,Q=3.5,j=-3.5,q=V.pointA.x;m.on(x,"beforeUpdate",function(e){if(P&&!(P.length<=0)&&(I?(playAgain?(Q+=.03,j-=.03,U+=.01,z-=.01,Q>=3.5&&(Q=3.5,j=-3.5),U>=.5&&(U=.5,z=-.5,I=!1,g=!0,playAgain=!1,B=!1,s.add(b,K))):(Q-=.02,j+=.02,U-=.01,z+=.01,Q<=1.2&&(Q=1.2,j=-1.2),U<=-.95&&(U=-.95,z=.95)),n.setAngle(P.bodies[1],U),n.setAngle(P.bodies[2],Q),n.setAngle(P.bodies[3],z),n.setAngle(P.bodies[4],j)):(n.setAngle(P.bodies[1],.5),n.setAngle(P.bodies[2],3.3),n.setAngle(P.bodies[3],-.5),n.setAngle(P.bodies[4],-3.3)),g)){if(F+=.012,F<0)return;O=q+250*Math.sin(F),!B&&(V.pointA.x=O)}});var J=l.create(h.canvas),K=d.create(x,{mouse:J,constraint:{stiffness:1,render:{visible:!1}}});return s.add(b,K),m.on(K,"mouseup",function(e){}),h.mouse=J,r.lookAt(h,{min:{x:0,y:0},max:{x:800,y:600}}),$(".d-c-close").click(function(){s.clear(b),$("#d-c").remove()}),{engine:x,runner:v,render:h,canvas:h.canvas,stop:function(){Matter.Render.stop(h),Matter.Runner.stop(v)}}},DC["do"].ragdoll=function(e,r,t,n,a){t="undefined"==typeof t?1:t;var c=Matter.Body,o=Matter.Bodies,i=Matter.Constraint,d=Matter.Composite,l=Matter.Common,s=l.extend({label:"chest",collisionFilter:{group:c.nextGroup(!0)},chamfer:{radius:[10*t,10*t,16*t,16*t]},render:{sprite:{xScale:.7,yScale:.7,texture:sourceLinkRoot+"img/chest.png"}}},n),m=l.extend({label:"left-arm",collisionFilter:{group:c.nextGroup(!0)},chamfer:{radius:10*t},render:{fillStyle:"#bdbabb"},stiffness:.8},n),u=l.extend({},m,{label:"left-lower-arm",render:{fillStyle:"#cfcdd2"},chamfer:{radius:6*t},friction:.7}),f=l.extend({label:"right-arm",collisionFilter:{group:c.nextGroup(!0)},chamfer:{radius:10*t},render:{fillStyle:"#bdbabb"},stiffness:.8},n),g=l.extend({},f,{label:"right-lower-arm",render:{fillStyle:"#cfcdd2"},chamfer:{radius:6*t},friction:.7}),p=o.rectangle(e,r,45*t,30*t,s),S=o.rectangle(e+39*t,r-15*t,17*t,54*t,f),x=o.rectangle(e+39*t,r+25*t,14*t,86*t,g),b=o.rectangle(e-39*t,r-15*t,17*t,54*t,m),y=o.rectangle(e-39*t,r+25*t,14*t,86*t,u),h=i.create({label:"CHEST_TO_RIGHT_UPPER",bodyA:p,pointA:{x:24*t,y:0},pointB:{x:0,y:-32*t},bodyB:S,stiffness:.8,angularStiffness:.2,length:0,render:{anchors:!1,visible:!1}}),v=i.create({label:"CHEST_TO_LEFT_UPPER",bodyA:p,pointA:{x:-24*t,y:0},pointB:{x:0,y:-32*t},bodyB:b,stiffness:.8,angularStiffness:.2,length:0,render:{anchors:!1,visible:!1}}),k=i.create({label:"UPPER_TO_LOWER_RIGHT",bodyA:S,bodyB:x,pointA:{x:0,y:20*t},pointB:{x:0,y:-36*t},stiffness:.6,angularStiffness:1.2,render:{visible:!0,anchors:!1},length:0}),A=i.create({label:"UPPER_TO_LOWER_LEFT",bodyA:b,bodyB:y,pointA:{x:0,y:20*t},pointB:{x:0,y:-36*t},stiffness:.6,angularStiffness:1.2,render:{visible:!0,anchors:!1},length:0});return d.create({bodies:[p,y,b,x,S],constraints:[A,k,v,h]})};